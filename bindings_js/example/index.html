<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    </head>
    <body>
        <p id="preamble">Running test...</p>
        <p id="result"></p>

        <script type="module">
            import { Client } from './dist/es/index.js';

            async function run() {
                Client.resetAll();
                let client = await Client.create();
                let input = [65, 65, 65];
                client.writeToPersistence("foo", input);
                if (client.readFromPersistence("foo").toString() === input.toString()) {
                    document.getElementById("result").innerText = "Test passed!";
                } else {
                    document.getElementById("result").innerText = "Test failed";
                }
            }
            run();
        </script>
    </body>
</html>
