# CI Configurations for `omnix` these run in github ci or locally
# `om ci run .#wasm -- --accept-flake-config` to run
ci:
  default:
    omnix:
      dir: .
  wasm:
    omnix:
      dir: .
      steps:
        build:
          enable: false
        custom:
          wasm-test-v3:
            type: devshell
            name: wasm
            command:
              - ./dev/test/wasm-nextest
              - "kind(lib)"
          wasm-test-d14n:
            type: devshell
            name: wasm
            command:
              - ./dev/test/wasm-nextest
              - "kind(lib)"
              - ci-d14n
              - d14n
develop:
  default:
    readme: |
      ğŸ¾ Welcome to **libxmtp** devshell

      refer to ./dev/ for development scripts

      ğŸŒ ./dev/docker/up to get a network environment setup

      ğŸ¦€ ./dev/lint-rust to lint rust

      ğŸ•¸ï¸ om ci run .#wasm -- --accept-flake-config for webassembly ci tests
